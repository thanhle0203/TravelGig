package com.thanhle.controller;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.web.bind.annotation.CrossOrigin;
import org.springframework.web.bind.annotation.PathVariable;
import org.springframework.web.bind.annotation.PostMapping;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RequestMethod;
import org.springframework.web.bind.annotation.RequestParam;
import org.springframework.web.bind.annotation.RestController;

import com.fasterxml.jackson.databind.JsonNode;
import com.thanhle.component.HotelComponent;


@RestController
public class GatewayController {

	@Autowired
	HotelComponent hotelComponent;
	
	@RequestMapping(value = "/searchHotel/{searchString}", method = RequestMethod.GET)
	public JsonNode searchHotel(@PathVariable String searchString){
		return hotelComponent.findHotelBySearchText(searchString);
	}

	@PostMapping("/confirmBooking")
	public String confirmBooking(@RequestParam String hotelId,
	                              @RequestParam String hotelRoomId,
	                              @RequestParam String customerMobile,
	                              @RequestParam int noGuests,
	                              @RequestParam int noRooms,
	                              @RequestParam String checkInDate,
	                              @RequestParam String checkOutDate,
	                              @RequestParam String roomType,
	                              @RequestParam float discount,
	                              @RequestParam float totalPrice) {
	    // Your code here
	    // You can use the parameters passed in to create a new booking and store it in a database, for example
	    // You can also return a success message or any relevant information
	    return "Booking confirmed!";
	}
	






	
}
